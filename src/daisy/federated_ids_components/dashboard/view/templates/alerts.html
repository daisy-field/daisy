<!--
  ~ Copyright (C) 2024 DAI-Labor and others
  ~
  ~ This Source Code Form is subject to the terms of the Mozilla Public
  ~ License, v. 2.0. If a copy of the MPL was not distributed with this
  ~ file, You can obtain one at https://mozilla.org/MPL/2.0/.
  -->
{% extends "./base.html" %}

{% block body_theme %}
{% if dark_theme %}
"sb-nav-fixed bg-dark"
{% else %}
"sb-nav-fixed"
{% endif %}
{% endblock %}

{% block footer_theme %}
{% if dark_theme %}
"py-4 bg-dark mt-auto"
{% else %}
"py-4 mt-auto"
{% endif %}
{% endblock %}

{% block navbar_theme %}
{% if dark_theme %}
"sb-sidenav accordion sb-sidenav-dark"
{% else %}
"sb-sidenav accordion sb-sidenav-light"
{% endif %}
{% endblock %}

{% block main %}
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

<script type="text/javascript">
    function createcard(type, time, node, message){
            var card =
                ''

            return card
        }


</script>



<h1 class="mt-4"></h1>

<div class={% if dark_theme %}
"card bg-dark text-white mb-4" {% else %} "card mb-4" {% endif %}>
<div class="card-header">
    <i class="fa-solid fa-skull-crossbones"></i>
    Alerts
</div>
<div class="card-body">
   {% for alert in alarms%}
 <div style="width: 20%; display:inline-block" class="card bg-danger text-white mb-4" data-bs-toggle="modal" data-bs-target="#alarms">
     <div class="card-header"><i class="fa-solid fa-server"></i>'{{alert.address}}</div>
     <div class="card-body">{{alert.message}} </div>
     <div class="card-footer d-flex align-items-center justify-content-between">
         <a class="small text-white stretched-link" href="#">{{alert.timestamp}}</a>
         <div class="small text-white"><i class="fas fa-angle-right"></i></div>
     </div>
 </div>
<div class="modal fade" id="alarms" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">{{alert.address}}</h5>

                        </div>
                        <div class="modal-body">
                        {{alert.message}} <br>
                            {{alert.timestamp}}
                        </div>
                        <div class="modal-footer">
                        <a href={% url 'resolve' alert.id %} type="button" class="btn btn-secondary" data-dismiss="modal">Mark as Resolved</a>

                            <a href={% url 'alerts' %} type="button" class="btn btn-primary">Close</a>

                        </div>
                    </div>
                    </div>
                </div>
{% endfor %}
</div>
<div id="updated" class="card-footer small text-muted"></div>
</div>

<div class={% if dark_theme %}
"card bg-dark text-white mb-4" {% else %} "card mb-4" {% endif %}>
<div class="card-header">
    <i class="fa-solid fa-triangle-exclamation"></i>
    Warnings
</div>
<div class="card-body">
    {% for alert in warnings%}
 <div style="width: 20%; display:inline-block" class="card bg-warning text-white mb-4" data-bs-toggle="modal" data-bs-target="#warnings">
     <div class="card-header"><i class="fa-solid fa-server"></i>'{{alert.address}}</div>
     <div class="card-body">{{alert.message}} </div>
     <div class="card-footer d-flex align-items-center justify-content-between">
         <a class="small text-white stretched-link" href="#">{{alert.timestamp}}</a>
         <div class="small text-white"><i class="fas fa-angle-right"></i></div>
     </div>
 </div>
<div class="modal fade" id="warnings" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                        <h5 class="modal-title">{{alert.address}}</h5>

                        </div>
                        <div class="modal-body">
                        {{alert.message}} <br>
                            {{alert.timestamp}}
                        </div>
                        <div class="modal-footer">
                        <a href={% url 'resolve' alert.id %} type="button" class="btn btn-secondary" data-dismiss="modal">Mark as Resolved</a>

                            <a href={% url 'alerts' %} type="button" class="btn btn-primary">Close</a>

                        </div>
                    </div>
                    </div>
                </div>
{% endfor %}
</div>
<div id="updated1" class="card-footer small text-muted"></div>
</div>
<div class={% if dark_theme %}
"card bg-dark text-white mb-4" {% else %} "card mb-4" {% endif %}>
<div class="card-header">
    <i class="fa-solid fa-circle-info"></i> Info
</div>
<div class="card-body">
{% for alert in infos%}
 <div style="width: 20%; display:inline-block" class="card bg-info text-white mb-4" data-bs-toggle="modal" data-bs-target="#infos">
     <div class="card-header"><i class="fa-solid fa-server"></i>'{{alert.address}}</div>
     <div class="card-body">{{alert.message}} </div>
     <div class="card-footer d-flex align-items-center justify-content-between">
         <a class="small text-white stretched-link" href="#">{{alert.timestamp}}</a>
         <div class="small text-white"><i class="fas fa-angle-right"></i></div>
     </div>
 </div>
<div class="modal fade" id="infos" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                        <h5 class="modal-title">{{alert.address}}</h5>

                        </div>
                        <div class="modal-body">
                        {{alert.message}} <br>
                            {{alert.timestamp}}
                        </div>
                        <div class="modal-footer">
                        <a href={% url 'resolve' alert.id %} type="button" class="btn btn-secondary" data-dismiss="modal">Mark as Resolved</a>

                            <a href={% url 'alerts' %} type="button" class="btn btn-primary">Close</a>

                        </div>
                    </div>
                    </div>
                </div>
{% endfor %}</div>
<div id="updated2" class="card-footer small text-muted"></div>
</div>
<div class={% if dark_theme %}
"card bg-dark text-white mb-4" {% else %} "card mb-4" {% endif %}>
<div class="card-header">
    <i class="fa-solid fa-clock-rotate-left"></i> History
</div>
<div class="card-body">
{% for alert in history%}
 <div style="width: 20%; display:inline-block" class="card bg-secondary text-white mb-4" data-bs-toggle="modal" data-bs-target="#history">
     <div class="card-header"><i class="fa-solid fa-server"></i>'{{alert.address}}</div>
     <div class="card-body">{{alert.message}} </div>
     <div class="card-footer d-flex align-items-center justify-content-between">
         <a class="small text-white stretched-link" href="#">{{alert.timestamp}}</a>
         <div class="small text-white"><i class="fas fa-angle-right"></i></div>
     </div>
 </div>
<div class="modal fade" id="history" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                        <h5 class="modal-title">{{alert.address}}</h5>

                        </div>
                        <div class="modal-body">
                        {{alert.message}} <br>
                            {{alert.timestamp}}
                        </div>
                        <div class="modal-footer">
                        <a href={% url 'resolve' alert.id %} type="button" class="btn btn-secondary" data-dismiss="modal">Mark as Resolved</a>

                            <a href={% url 'alerts' %} type="button" class="btn btn-primary">Close</a>

                        </div>
                    </div>
                    </div>
                </div>
{% endfor %}</div>
<div id="updated3" class="card-footer small text-muted"></div>
</div>


 <!-- Modal -->



<!-- Modal -->


{% endblock %}
